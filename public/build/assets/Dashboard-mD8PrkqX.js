import{u as j,r as l,j as e,H as y,L as r}from"./app-DF3YYuoH.js";/* empty css            */function w({folders:p,frontendPath:a,error:d}){const{auth:n}=j().props,[o,g]=l.useState(p),[c,x]=l.useState(!1),[m,t]=l.useState(""),u=async()=>{x(!0),t("");try{const s=new AbortController,i=setTimeout(()=>s.abort(),15e3),h=await fetch("/api/frontend/folders",{signal:s.signal});clearTimeout(i);const f=await h.json();if(!h.ok)throw new Error("Failed to fetch folders");g(f.folders)}catch(s){s instanceof Error?s.name==="AbortError"?t("Request timed out. Please try again."):t(s.message):t("An error occurred")}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Frontend Projects"}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Frontend Projects"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View deployed frontend project folders"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(r,{href:"/",className:"bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700",children:"Git Log Dashboard"}),n.user&&e.jsxs(e.Fragment,{children:[e.jsx(r,{href:"/dashboard",className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700",children:"Admin Dashboard"}),e.jsx(r,{href:"/frontend/settings",className:"bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700",children:"Configure Path"})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[(d||m)&&e.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md",children:d||m}),!a&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No frontend folder configured"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n.user?"Please configure the frontend folder path in settings.":"Contact the administrator to configure the frontend folder path."}),n.user&&e.jsx("div",{className:"mt-4",children:e.jsx(r,{href:"/frontend/settings",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Configure Path"})})]}),a&&!d&&e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Project Folders"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Path: ",e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:a})]})]}),e.jsx("button",{onClick:u,disabled:c,className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:c?"Refreshing...":"Refresh"})]}),o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No folders found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The configured folder is empty or contains no subdirectories."})]}):e.jsx("div",{className:"overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Folder Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Modified"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Relative Time"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((s,i)=>e.jsxs("tr",{className:i%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-5 w-5 text-yellow-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z",clipRule:"evenodd"}),e.jsx("path",{d:"M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-600 font-mono",children:s.modified_at_formatted})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-500",children:s.modified_at_human})})]},s.name))})]})})]})})]})]})]})}export{w as default};
